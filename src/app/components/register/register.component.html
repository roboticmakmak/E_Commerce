<section class="registration-section">
  <div class="container">
      <div class="row justify-content-center">
          <div class="col-md-6">
              <h1 class="text-center mb-4" style="color: #4CAF50;">Register Now</h1>

              <form [formGroup]="registerForm" (ngSubmit)="handleButton()" novalidate>
                  <div class="form-group">
                      <label for="name">Name:</label>
                      <input #inputName formControlName="name" type="text" id="name" class="form-control">
                      <div class="alert alert-danger" *ngIf="registerForm.get('name')?.errors && (registerForm.get('name')?.touched || inputName.value.length > 0)">
                          <p *ngIf="registerForm.get('name')?.getError('required')">Name is required</p>
                          <p *ngIf="registerForm.get('name')?.getError('minlength')">Name should be at least 3 characters</p>
                          <p *ngIf="registerForm.get('name')?.getError('maxLength')">Name shouldn't be more than 20 characters</p>
                      </div>
                  </div>

                  <div class="form-group">
                      <label for="email">Email:</label>
                      <input formControlName="email" type="email" id="email" class="form-control">
                      <div class="alert alert-danger" *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched">
                          <p *ngIf="registerForm.get('email')?.getError('required')">Email is required</p>
                          <p *ngIf="registerForm.get('email')?.getError('email')">Email format is incorrect</p>
                      </div>
                  </div>

                  <div class="form-group">
                    <label for="password">Password:</label>
                    <div class="input-group">
                        <input formControlName="password" type="password" id="password" class="form-control">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" (click)="togglePasswordVisibility('password')">
                                <i class="fa" [ngClass]="{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}"></i>
                            </button>
                        </div>
                    </div>
                    <div class="alert alert-danger" *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched">
                        <p *ngIf="registerForm.get('password')?.getError('required')">Password is required</p>
                        <p *ngIf="registerForm.get('password')?.getError('pattern')">Password should start with an uppercase letter and contain 6 to 20 characters</p>
                    </div>
                </div>
                
                <div class="form-group">
                  <label for="rePassword">Confirm Password:</label>
                  <div class="input-group">
                      <input formControlName="rePassword" type="password" id="rePassword" class="form-control">
                      <div class="input-group-append">
                          <button class="btn btn-outline-secondary" type="button" (click)="togglePasswordVisibility2('rePassword')">
                              <i class="fa" [ngClass]="{'fa-eye': !showRePassword, 'fa-eye-slash': showRePassword}"></i>
                          </button>
                      </div>
                  </div>
                  <div class="alert alert-danger" *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched">
                      <p *ngIf="registerForm.get('rePassword')?.getError('required')">Confirm Password is required</p>
                      <p *ngIf="registerForm.get('rePassword')?.getError('mismatch')">Passwords do not match</p>
                  </div>
              </div>
              
                

                  <div class="form-group">
                      <label for="phone">Phone:</label>
                      <input formControlName="phone" type="tel" id="phone" class="form-control">
                      <div class="alert alert-danger" *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched">
                          <p *ngIf="registerForm.get('phone')?.getError('required')">Phone is required</p>
                          <p *ngIf="registerForm.get('phone')?.getError('pattern')">Phone should be 11 digits starting with '01'</p>
                      </div>
                  </div>

                  <button type="submit" class="btn btn-primary btn-block">
                      <span *ngIf="!submitting">Register</span>
                      <span *ngIf="submitting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  </button>

                  <p *ngIf="msgError" class="alert alert-danger mt-3">{{msgError}}</p>
              </form>
          </div>
      </div>
  </div>
</section>
